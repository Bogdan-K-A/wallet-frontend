(this["webpackJsonpwallet-frontend"]=this["webpackJsonpwallet-frontend"]||[]).push([[0],{135:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c}));var a=function(e){return console.log("--------redux-------------"),console.log(e.statistic.data),console.log(e.categories.data),0===e.statistic.data.length?[]:e.statistic.data.map((function(e){return{category:e.category.name,sum:e.sum}}))},r=function(e){return e.statistic.isLoading},c=function(e){return e.statistic.error}},138:function(e,t,n){"use strict";n.d(t,"e",(function(){return x})),n.d(t,"h",(function(){return v})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return w})),n.d(t,"g",(function(){return F})),n.d(t,"a",(function(){return E})),n.d(t,"i",(function(){return V})),n.d(t,"f",(function(){return H})),n.d(t,"c",(function(){return g}));var a=n(10),r=n(46),c=n(63),s=n(61),i=n(20),o=(n(265),n(57)),u=n(56),l=n(1),d=function(){var e=Object(a.b)();return Object(l.jsxs)("button",{className:"button_exit",onClick:function(){e(Object(o.c)())},children:[Object(l.jsx)("div",{className:"button_exit__block",children:Object(l.jsx)("svg",{className:"button_exit__icon",children:Object(l.jsx)("use",{href:"".concat(i.a,"#exit")})})}),Object(l.jsx)(s.a,{queries:u.a,children:function(e){return Object(l.jsx)(l.Fragment,{children:e.medium&&Object(l.jsx)("p",{className:"button_exit__text",children:"\u0412\u0438\u0439\u0442\u0438"})})}})]})},j=n(31),b=(n(290),function(e){var t=e.icon,n=e.text,a=e.linkTo;return Object(l.jsxs)(j.c,{className:function(e){return e.isActive?"nav_item active":"nav_item"},to:a,children:[Object(l.jsx)("svg",{className:"nav_item__icon",children:Object(l.jsx)("use",{href:"".concat(i.a,"#").concat(t)})}),Object(l.jsx)(s.a,{queries:u.a,children:function(e){return Object(l.jsx)(l.Fragment,{children:e.medium&&Object(l.jsx)("p",{className:"nav_item__text",children:n})})}})]})}),f=n(0),m=n(38),p=n(74),O=n(60),h=n(135),g=function(){var e=Object(a.c)(p.d),t=Object(a.c)(O.c),n=Object(a.c)(h.b);return Object(f.useEffect)((function(){e&&m.b.error(e),t&&m.b.error(t),n&&m.b.error(n)}),[e,t,n]),Object(l.jsx)(l.Fragment,{})},x=(n(291),function(){var e=Object(a.c)(r.b);return Object(l.jsxs)("ul",{className:"header_nav__list",children:[Object(l.jsx)("li",{className:"header_nav__item",children:Object(l.jsx)("span",{className:"header_nav__text",children:e})}),Object(l.jsx)("li",{className:"header_nav__item",children:Object(l.jsx)(d,{})})]})}),v=(n(292),function(){return Object(l.jsx)("ul",{className:"nav_list",children:u.b.map((function(e,t){return Object(l.jsx)(s.a,{queries:u.a,children:function(n){return Object(l.jsx)(l.Fragment,{children:n.medium&&""===e.text?null:Object(l.jsx)("li",{className:"nav_list__item",children:Object(l.jsx)(b,{icon:e.icon,text:e.text,linkTo:e.linkTo})},t)})}},t)}))})}),_=(n(293),function(){var e,t=Object(a.c)(O.a);return Object(l.jsxs)("div",{className:"balans",children:[Object(l.jsx)("p",{className:"balans__title",children:"\u0412\u0430\u0448 \u0431\u0430\u043b\u0430\u043d\u0441"}),Object(l.jsxs)("p",{className:"balans__order",children:["\u20b4 ",(e=t,parseFloat(e).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1 "))]})]})}),w=(n(294),function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"header",children:Object(l.jsxs)("div",{className:"container container__header",children:[Object(l.jsx)(j.b,{to:"/",className:"logo_link",children:Object(l.jsx)(c.a,{})}),Object(l.jsx)(x,{})]})})})}),N=n(15),y=n(8),k=n(5),L=n.n(k),S=n(238),C=n.n(S),M=n(41),T=n(75),B=(n(295),n(296),n(239)),F=function(){var e=Object(a.c)(p.a),t=Object(a.c)(p.b),n=Object(a.c)(O.f),r=Object(f.useState)("income"),c=Object(y.a)(r,2),s=c[0],o=c[1],u=Object(f.useState)(new Date),d=Object(y.a)(u,2),j=d[0],b=d[1],h=Object(f.useState)(t[0].name),g=Object(y.a)(h,2),x=g[0],v=g[1],_=Object(f.useState)(t[0]._id),w=Object(y.a)(_,2),k=w[0],S=w[1],F=Object(f.useState)(!1),q=Object(y.a)(F,2),E=q[0],A=q[1],P=Object(f.useState)(""),D=Object(y.a)(P,2),I=D[0],U=D[1],z=Object(f.useState)(""),R=Object(y.a)(z,2),V=R[0],H=R[1],J=Object(a.b)();function W(){J(Object(T.b)())}function Y(e){S(e.target.dataset.id),v(e.target.textContent),A(!E)}Object(f.useEffect)((function(){var e=document.querySelector("#backdrop");function t(t){t.target===e&&W()}function n(e){"Escape"===e.code&&W()}return document.addEventListener("click",t),document.addEventListener("keydown",n),function(){document.removeEventListener("click",t),document.removeEventListener("keydown",n)}}),[W]),Object(f.useEffect)((function(){n&&W()}),[n]);var $={type:"required|boolean",category:"required|string",sum:"required|number",comment:"string",day:"required|number",month:"required|number",year:"required|number"},G=function(){var e=Object(N.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={day:j.getDate(),month:j.getMonth()+1,year:j.getFullYear(),type:"income"===s,category:k,sum:parseFloat(I),comment:V},e.prev=2,e.next=5,Object(B.validate)(n,$);case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(2),console.log(e.t0[0].message),m.b.error(e.t0[0].message),e.abrupt("return");case 12:J(M.a.addOperation({datetime:j,income:"income"===s,category:k,comment:""===V?void 0:V,sum:I}));case 13:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();var K=Object(l.jsxs)("div",{className:"dropContainer",children:[Object(l.jsx)("div",{className:function(){if("\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e"!==x){return"".concat("dropField"," ").concat("dropFieldActive")}return"dropField"}(),onClick:function(){A(!E)},children:Object(l.jsx)("span",{className:"categoryDrop",children:x})}),E&&Object(l.jsxs)("ul",{className:"dropList",children:["income"===s&&t.map((function(e,t){return Object(l.jsx)("li",{onClick:Y,className:"dropListItem","data-id":e._id,children:e.name},t)})),"spending"===s&&e.map((function(e,t){return Object(l.jsx)("li",{onClick:Y,className:"dropListItem","data-id":e._id,children:e.name},t)}))]}),Object(l.jsx)("span",{className:"dropIconModal",children:Object(l.jsx)("svg",{className:"dropIcon",children:Object(l.jsx)("use",{href:"".concat(i.a,"#dropItemModal")})})})]});return Object(l.jsxs)("div",{className:"modalContainer",children:[Object(l.jsx)("div",{className:"containerClose",onClick:W,children:Object(l.jsx)("span",{className:"itemCloseModal",children:Object(l.jsx)("svg",{className:"iconCloseBtn",children:Object(l.jsx)("use",{href:"".concat(i.a,"#closeModal")})})})}),Object(l.jsx)("h2",{className:"titleText",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0456\u044e"}),Object(l.jsxs)("form",{onSubmit:G,id:"modalTransaction",className:"modalForm",children:[Object(l.jsxs)("div",{className:"switchTypeBalance",children:[Object(l.jsx)("span",{className:function(){if("income"===s){return"".concat("switchTypeBalance__text"," ").concat("switchTypeBalance__text__active")}return"switchTypeBalance__text"}(),children:"\u0414\u043e\u0445\u0456\u0434"}),Object(l.jsxs)("div",{className:"toggleContainerType",children:[Object(l.jsx)("label",{className:"toggleTypeBody",htmlFor:"switchType"}),Object(l.jsx)("span",{className:"income"===s?"toggleIncome":"toggleIncomeSwitch",id:"toggle",children:Object(l.jsx)("svg",{className:"modalBtnPlus",children:Object(l.jsx)("use",{href:"".concat(i.a,"income"===s?"#plusSvg":"#modalMinus")})})})]}),Object(l.jsx)("input",{className:"switchToggleInput",onChange:function(e){if(!e.target.checked)return o("spending"),v("\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e"),void S(null);o("income"),v(t[0].name),S(t[0]._id)},name:"modalTypeTransaction",type:"checkbox",id:"switchType",defaultChecked:!0}),Object(l.jsx)("span",{className:function(){if("spending"===s){return"".concat("switchTypeBalance__text"," ").concat("switchTypeBalance__text__active")}return"switchTypeBalance__text"}(),children:"\u0412\u0438\u0442\u0440\u0430\u0442\u0438"})]}),K,Object(l.jsx)("div",{className:"sumContainer",children:Object(l.jsx)("input",{className:"sumField",onChange:function(e){var t=Number(e.target.value);if(Number.isInteger(t))U(e.target.value);else{var n=String(t).split("."),a=Object(y.a)(n,2),r=a[0],c=a[1];U("".concat(r,".").concat(c.slice(0,2)))}},value:I,required:!0,min:"0.00",step:"0.01",type:"number",placeholder:"0.00"})}),Object(l.jsxs)("div",{className:"calendarContainer",children:[Object(l.jsx)(C.a,{onChange:function(e){b(e._d)},inputProps:{className:"calendarField"},initialValue:j,closeOnSelect:!0,timeFormat:!1}),Object(l.jsx)("svg",{className:"calendarIcon",children:Object(l.jsx)("use",{href:"".concat(i.a,"#calendarSvg")})})]}),Object(l.jsx)("div",{className:"commentContainer",children:Object(l.jsx)("textarea",{maxLength:"200",className:"commentField",placeholder:"\u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440",onChange:function(e){H(e.target.value)},value:V})}),Object(l.jsxs)("div",{className:"buttonContainer",children:[Object(l.jsx)("button",{className:"submitButton",type:"submit",children:"\u0414\u043e\u0434\u0430\u0442\u0438"}),Object(l.jsx)("button",{className:"cancelButton",onClick:W,children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})]})]})]})},q=n(49),E=(n(534),function(e){var t=e.children,n=document.querySelector("#modalroot");return Object(q.createPortal)(Object(l.jsx)("div",{id:"backdrop",className:"backdrop",children:t}),n)}),A=n(18),P=n(97),D=n(34),I=(n(232),n.p+"static/media/Frame.5d52b14d.png"),U=n(245),z=n.n(U);function R(e){var t=e.show,n=e.password,a=z()(n),r=100*a.score/4,c=function(){switch(a.score){case 0:return"red";case 1:return"#f44336";case 2:return"#ffed3b";case 3:return"#9bc158";case 4:return"#4caf50";default:return"none"}};return Object(l.jsx)(l.Fragment,{children:t&&Object(l.jsx)("span",{className:"form__strength",style:{width:"".concat(r,"%"),backgroundColor:c()}})})}var V=function(){var e=Object(a.b)(),t=Object(f.useState)("password"),n=Object(y.a)(t,2),s=n[0],o=n[1],u=Object(f.useState)(!1),d=Object(y.a)(u,2),b=d[0],p=d[1],O=Object(a.c)(r.e);Object(f.useEffect)((function(){O&&m.b.error(O)}),[O]);var h=function(e){e.preventDefault(),e.stopPropagation(),o("password"===s?"input":"password")};return Object(l.jsxs)("section",{className:"register",children:[Object(l.jsx)("div",{className:"container__img",children:Object(l.jsxs)("div",{className:"position",children:[Object(l.jsx)("img",{className:"img",src:I,alt:""}),Object(l.jsx)("h1",{className:"title",children:"Finance App"})]})}),Object(l.jsx)(P.a,{initialValues:{email:"",password:"",confirmPassword:"",name:""},onSubmit:function(t){var n={name:t.name,email:t.email,password:t.password};e(A.a.register(n))},validationSchema:D.a().shape({email:D.c().email().min(10).max(63).required("\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"),password:D.c().required("\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435").min(6,"\u041f\u0430\u0440\u043e\u043b\u044c \u0437\u0430\u043d\u0430\u0434\u0442\u043e \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 (\u043c\u0456\u043d\u0456\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432)").max(16,"\u041f\u0430\u0440\u043e\u043b\u044c \u0437\u0430\u043d\u0430\u0434\u0442\u043e \u0434\u043e\u0432\u0433\u0438\u0439 (\u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 16 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432)"),confirmPassword:D.c().required("\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435").oneOf([D.b("password"),null],"\u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u044e\u0442\u044c"),name:D.c().min(1,"\u0406\u043c'\u044f \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u043c").max(12,"\u0406\u043c'\u044f \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 12 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432").required("\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435")}),children:function(e){var t=e.values,n=e.touched,a=e.errors,r=e.isSubmitting,o=e.handleChange,u=e.handleBlur,d=e.handleSubmit;return Object(l.jsx)("div",{className:"form__filter",children:Object(l.jsxs)("form",{className:"form",onSubmit:d,children:[Object(l.jsx)("div",{className:"form__logo",children:Object(l.jsx)(c.a,{})}),Object(l.jsxs)("label",{className:"form__label",children:[a.email&&n.email&&a.email,Object(l.jsx)("svg",{className:"form__icon",children:Object(l.jsx)("use",{href:"".concat(i.a,"#email")})}),Object(l.jsx)("input",{className:"form__input",type:"email",name:"email",placeholder:"E-mail",onChange:o,onBlur:u,value:t.email})]}),Object(l.jsxs)("label",{className:"form__label",children:[a.password&&n.password&&a.password,Object(l.jsx)("svg",{className:"form__icon",children:Object(l.jsx)("use",{href:"".concat(i.a,"#password")})}),Object(l.jsx)("input",{className:"form__input",type:s,name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:o,onFocus:function(){return p(!0)},onBlur:u,value:t.password}),Object(l.jsx)("span",{className:"form__show",onClick:h,children:"input"===s?"HIDE":"SHOW"})]}),Object(l.jsxs)("label",{className:"form__label",children:[a.confirmPassword&&n.confirmPassword&&a.confirmPassword,Object(l.jsx)("svg",{className:"form__icon",children:Object(l.jsx)("use",{href:"".concat(i.a,"#password")})}),Object(l.jsx)("input",{className:"form__input",type:"password",name:"confirmPassword",placeholder:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:o,onBlur:u,value:t.confirmPassword}),Object(l.jsx)(R,{show:b,password:t.password})]}),Object(l.jsxs)("label",{className:"form__label",children:[a.name&&n.name&&a.name,Object(l.jsx)("svg",{className:"form__icon",children:Object(l.jsx)("use",{href:"".concat(i.a,"#name")})}),Object(l.jsx)("input",{className:"form__input",type:"name",name:"name",placeholder:"\u0412\u0430\u0448\u0435 \u0456\u043c\u044f",onChange:o,onBlur:u,value:t.name})]}),Object(l.jsx)("button",{type:"submit",disabled:r,className:"form__button form__button--active",children:"\u0420\u0415\u0404\u0421\u0422\u0420\u0410\u0426\u0406\u042f"}),Object(l.jsx)(j.b,{to:"/login",className:"form__button",children:"\u0412\u0425\u0406\u0414"})]})})}})]})},H=(n(637),function(){var e=Object(a.b)();function t(){e(Object(o.a)())}return Object(f.useEffect)((function(){var e=document.querySelector("#backdrop");function n(n){n.target===e&&t()}function a(e){"Escape"===e.code&&t()}return document.addEventListener("click",n),document.addEventListener("keydown",a),function(){document.removeEventListener("click",n),document.removeEventListener("keydown",a)}}),[t]),Object(l.jsxs)("div",{className:"containerLogout",children:[Object(l.jsx)("p",{className:"textLogout",children:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u043d\u0456?"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"btnLogout",type:"button",onClick:function(){return e(A.a.logout())},children:Object(l.jsx)("span",{children:"\u0412\u0438\u0439\u0442\u0438"})}),Object(l.jsx)("button",{className:"btnLogout",onClick:t,children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})]})]})});n(139)},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(34),r=n(97),c=n(31),s=n(10),i=n(18),o=n(63),u=n(20),l=n.p+"static/media/tabletMan.c98d6b49.svg",d=(n(638),n(1)),j=function(){var e=Object(s.b)();return Object(d.jsxs)("section",{children:[Object(d.jsxs)("div",{className:"login_img_container",children:[Object(d.jsx)("img",{className:"login_img",src:l,alt:"",width:"435px"}),Object(d.jsx)("h1",{children:"Finance App"})]}),Object(d.jsx)(r.a,{initialValues:{email:"",password:""},onSubmit:function(t){e(i.a.login(t))},validationSchema:a.a().shape({email:a.c().email().required("\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"),password:a.c().required("\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435")}),children:function(e){var t=e.values,n=e.touched,a=e.errors,r=e.isSubmitting,s=e.handleChange,i=e.handleBlur,l=e.handleSubmit;return Object(d.jsx)("div",{className:"form_bg_filter",children:Object(d.jsxs)("form",{onSubmit:l,className:"login_form",children:[Object(d.jsx)("div",{className:"login_form__logo",children:Object(d.jsx)(o.a,{})}),Object(d.jsxs)("label",{className:"login_form__label",children:[a.email&&n.email&&Object(d.jsx)("div",{className:"input-feedback",children:a.email}),Object(d.jsx)("svg",{className:"login_form__icon",children:Object(d.jsx)("use",{href:"".concat(u.a,"#email")})}),Object(d.jsx)("input",{className:"login_form__input",id:"email",placeholder:" E-mail",type:"email",value:t.email,onChange:s,onBlur:i})]}),Object(d.jsxs)("label",{className:"login_form__label",children:[a.password&&n.password&&Object(d.jsx)("div",{className:"input-feedback",children:a.password}),Object(d.jsx)("svg",{className:"login_form__icon",children:Object(d.jsx)("use",{href:"".concat(u.a,"#password")})}),Object(d.jsx)("input",{className:"login_form__input",id:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",value:t.password,onChange:s,onBlur:i})]}),Object(d.jsx)("button",{className:"login_form__btn login_form__btn--current  ",type:"submit",disabled:r,children:Object(d.jsx)("span",{children:"\u0412\u0445\u0456\u0434"})}),Object(d.jsx)(c.b,{to:"/register",className:"login_form__btn login_form__btn_color",children:Object(d.jsx)("span",{children:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"})})]})})}})]})}},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(15),r=n(5),c=n.n(r),s=n(14),i=n(33),o=Object(s.c)("login",function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.f)(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u=Object(s.c)("register",function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.h)(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=Object(s.c)("logout",Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.g)();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),d=Object(s.c)("current",function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.e)(t);case 2:return n=e.sent,console.dir(n),console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),j={login:o,register:u,logout:l,currentUser:d}},20:function(e,t,n){"use strict";t.a=n.p+"static/media/sprite.da5a518e.svg"},232:function(e,t,n){},258:function(e,t,n){},260:function(e,t,n){},265:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},296:function(e,t,n){},33:function(e,t,n){"use strict";n.d(t,"h",(function(){return O})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return _})),n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return N}));var a=n(9),r=n(15),c=n(5),s=n.n(c),i=n(30),o=n.n(i),u=n(11),l=n(12),d=n(24),j=n(25),b=n(98),f=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e,a){var r;return Object(l.a)(this,n),(r=t.call(this,e)).status=a,r}return Object(u.a)(n)}(Object(b.a)(Error));o.a.defaults.baseURL="https://wallet-serv.herokuapp.com/api";var m=function(e){o.a.defaults.headers.common.Authorization=e?"Bearer ".concat(e):""},p=function(e){throw e.response?new f(e.response.data.message,e.response.status):e.request?new f(e.request.statusText,e.request.status):new f(e.message,500)},O=function(){var e=Object(r.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("auth/register",{userName:t.name,email:t.email,password:t.password});case 3:return n=e.sent,m(n.data.data.token),e.abrupt("return",n.data.data);case 8:e.prev=8,e.t0=e.catch(0),p(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(r.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("auth/login",t);case 3:return n=e.sent,m(n.data.data.token),e.abrupt("return",n.data.data);case 8:e.prev=8,e.t0=e.catch(0),console.dir(e.t0),p(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("auth/logout");case 3:return m(),e.abrupt("return",{status:"ok",code:204});case 7:e.prev=7,e.t0=e.catch(0),p(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(r.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(t),e.next=4,o.a.get("users/current");case 4:return n=e.sent,e.abrupt("return",n.data.data.user);case 8:e.prev=8,e.t0=e.catch(0),p(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(r.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("categories/income");case 3:return t=e.sent,e.next=6,o.a.get("categories/expense");case 6:return n=e.sent,e.abrupt("return",[].concat(Object(a.a)(n.data.categories),Object(a.a)(t.data.categories)));case 10:e.prev=10,e.t0=e.catch(0),p(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(r.a)(s.a.mark((function e(t){var n,a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.month,a=t.year,e.prev=1,r="".concat(n||a?"?":null).concat(n?"month=".concat(n):null).concat(n&&a?"&":null).concat(a?"year=".concat(a):null),e.next=5,o.a.get("transactions/statistics".concat(r));case 5:return c=e.sent,e.abrupt("return",c.data.transactions);case 9:e.prev=9,e.t0=e.catch(1),p(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(r.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="",n=t?"transactions?page=".concat(t.page,"&limit=").concat(t.limit):"transactions",e.next=5,o.a.get(n);case 5:return a=e.sent,e.abrupt("return",a.data.data);case 9:e.prev=9,e.t0=e.catch(0),p(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(r.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("transactions",t);case 3:return n=e.sent,e.abrupt("return",n.data.data.transaction);case 7:e.prev=7,e.t0=e.catch(0),p(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(14),r=Object(a.b)("clear")},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(15),r=n(5),c=n.n(r),s=n(14),i=n(33),o=Object(s.c)("getOperations",function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.c)(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u=Object(s.c)("addOperation",function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l={getOperations:o,addOperation:u}},46:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var a=function(e){return e.user.isAuth},r=function(e){return!!e.user.token},c=function(e){return e.user.token},s=function(e){return e.user.error},i=function(e){return e.user.isModalLogout},o=function(e){return e.user.user.name},u=function(e){return e.user.user.balance}},534:function(e,t,n){},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a={small:"(max-width: 767px)",medium:"(min-width: 768px)",mediumOnly:"(min-width: 768px) and (max-width: 1199px)",large:"(min-width: 1200px)"},r=[{icon:"home",text:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430",linkTo:"/home"},{icon:"statistic",text:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",linkTo:"/diagram"},{icon:"currency",text:"",linkTo:"/currency"}]},57:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d}));var a,r=n(4),c=n(14),s=n(18),i=n(37),o=Object(c.d)({name:"user",initialState:{user:{},token:null,isAuth:!1,isModalLogout:!1,isLoading:!1,error:null},reducers:{openModalLogout:function(e){e.isModalLogout=!0},closeModalLogout:function(e){e.isModalLogout=!1}},extraReducers:(a={},Object(r.a)(a,s.a.register.pending,(function(e){e.isLoading=!0,e.error=null,e.isAuth=!1})),Object(r.a)(a,s.a.register.fulfilled,(function(e,t){var n=t.payload;e.user.name=n.user.userName,e.user.email=n.user.email,e.token=n.token,e.isAuth=!0,e.isLoading=!1})),Object(r.a)(a,s.a.register.rejected,(function(e,t){var n=t.error;e.isLoading=!1,e.error=n.message})),Object(r.a)(a,s.a.login.pending,(function(e){e.isLoading=!0,e.error=null,e.isAuth=!1})),Object(r.a)(a,s.a.login.fulfilled,(function(e,t){var n=t.payload;console.log(n),e.user.name=n.user.userName,e.user.email=n.user.email,e.token=n.token,e.isAuth=!0,e.isLoading=!1})),Object(r.a)(a,s.a.login.rejected,(function(e,t){var n=t.error;e.isLoading=!1,e.error=n.message})),Object(r.a)(a,s.a.logout.pending,(function(e){e.isLoading=!0,e.error=null})),Object(r.a)(a,s.a.logout.fulfilled,(function(e,t){t.payload;e.user={},e.token=null,e.isAuth=!1,e.isLoading=!1,e.isModalLogout=!1})),Object(r.a)(a,s.a.logout.rejected,(function(e,t){var n=t.error;e.isLoading=!1,e.error=n.message})),Object(r.a)(a,s.a.currentUser.pending,(function(e){e.isLoading=!0,e.error=null})),Object(r.a)(a,s.a.currentUser.fulfilled,(function(e,t){var n=t.payload;e.user.name=n.userName,e.user.email=n.email,e.user.balance=n.balance,e.isAuth=!0,e.isLoading=!1})),Object(r.a)(a,s.a.currentUser.rejected,(function(e,t){var n=t.error;e.token=null,e.isAuth=!1,e.isLoading=!1,e.error=n.message})),Object(r.a)(a,i.a,(function(e){e.user={},e.token=null,e.isAuth=!1,e.isModalLogout=!1,e.isLoading=!1,e.error=null})),a)}),u=o.actions,l=u.openModalLogout,d=u.closeModalLogout;t.b=o},60:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return o}));var a=function(e){return e.finance.data},r=function(e){return e.finance.userBalance},c=function(e){return e.finance.isLoading},s=function(e){return e.finance.isModalAddTransaction},i=function(e){return e.finance.isSaveModalDateStatic},o=function(e){return e.finance.error}},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(20),r=(n(260),n(1)),c=function(){return Object(r.jsxs)("div",{className:"logo",children:[Object(r.jsx)("svg",{className:"logo_icon",children:Object(r.jsx)("use",{href:"".concat(a.a,"#wallet")})}),Object(r.jsx)("p",{className:"logo_text",children:"Wallet"})]})}},637:function(e,t,n){},638:function(e,t,n){},639:function(e,t,n){},643:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(49),s=n.n(c),i=n(31),o=n(10),u=n(236),l=(n(258),n(38)),d=(n(259),n(6)),j=n(138),b=(n(639),n(1));var f=function(){return Object(b.jsx)("div",{className:"loader",children:"Loading..."})},m=function(e,t){return e?t||Object(b.jsx)(d.a,{to:"/home"}):Object(b.jsx)(d.a,{to:"/login"})},p=n(46),O=n(18),h=n(37),g=Object(a.lazy)((function(){return n.e(4).then(n.bind(null,680))})),x=Object(a.lazy)((function(){return n.e(7).then(n.bind(null,682))})),v=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,683))}));var _,w,N,y=function(){var e=Object(o.b)(),t=Object(o.c)(p.g),n=Object(o.c)(p.d),r=Object(o.c)(p.c);return Object(a.useEffect)((function(){t&&!n&&e(O.a.currentUser(r))}),[]),Object(a.useEffect)((function(){console.log("Use effect in app",n),n||t||e(Object(h.a)())}),[n,t]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(a.Suspense,{fallback:Object(b.jsx)(f,{}),children:[n===t&&Object(b.jsxs)(d.d,{children:[Object(b.jsx)(d.b,{path:"login",element:Object(b.jsx)(v,{})}),Object(b.jsx)(d.b,{path:"register",element:Object(b.jsx)(x,{})}),Object(b.jsx)(d.b,{path:"/",element:m(n)}),Object(b.jsx)(d.b,{path:"/*",element:m(n,Object(b.jsx)(g,{}))})]}),Object(b.jsx)(j.c,{})]})})},k=n(4),L=n(9),S=n(14),C=n(44),M=n(246),T=n.n(M),B=n(247),F=n.n(B),q=n(91),E=Object(S.d)({name:"categories",initialState:{data:[],isLoading:!1,error:null},extraReducers:(_={},Object(k.a)(_,q.a.getCategories.pending,(function(e){e.isLoading=!0,e.error=null})),Object(k.a)(_,q.a.getCategories.fulfilled,(function(e,t){var n=t.payload;e.data=Object(L.a)(n),e.isLoading=!1})),Object(k.a)(_,q.a.getCategories.rejected,(function(e,t){var n=t.error;e.isLoading=!1,e.error=n.message})),Object(k.a)(_,h.a,(function(e){e.data=[],e.isLoading=!1,e.error=null})),_)}),A=n(92),P=Object(S.d)({name:"statistic",initialState:{data:[],isLoading:!1,error:null},extraReducers:(w={},Object(k.a)(w,A.a.getStatistic.pending,(function(e){e.isLoading=!0,e.error=null})),Object(k.a)(w,A.a.getStatistic.fulfilled,(function(e,t){var n=t.payload;e.data=Object(L.a)(n),e.isLoading=!1})),Object(k.a)(w,A.a.getStatistic.rejected,(function(e,t){var n=t.error;e.isLoading=!1,e.error=n.message})),Object(k.a)(w,h.a,(function(e){e.data=[],e.isLoading=!1,e.error=null})),w)}),D=n(57),I=n(75),U={key:"user",storage:F.a,whitelist:["token"]},z=Object(C.g)(U,D.b.reducer),R=Object(S.a)({reducer:(N={},Object(k.a)(N,D.b.name,z),Object(k.a)(N,E.name,E.reducer),Object(k.a)(N,P.name,P.reducer),Object(k.a)(N,I.c.name,I.c.reducer),N),middleware:function(e){return[].concat(Object(L.a)(e({serializableCheck:{ignoredActions:[C.a,C.f,C.b,C.c,C.d,C.e]}})),[T.a])},devTools:!1}),V={store:R,persistedStore:Object(C.h)(R)};n(642);s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(o.a,{store:V.store,children:Object(b.jsx)(u.a,{loader:null,persistor:V.persistedStore,children:Object(b.jsxs)(i.a,{children:[Object(b.jsx)(y,{}),Object(b.jsx)(l.a,{})]})})})}),document.getElementById("root"))},74:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s}));var a=function(e){return e.categories.data.length>0},r=function(e){return e.categories.data.filter((function(e){return e.income}))},c=function(e){return e.categories.data.filter((function(e){return!e.income}))},s=function(e){return e.categories.error}},75:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return b}));var a,r=n(4),c=n(9),s=n(14),i=n(41),o=n(37),u=Object(s.d)({name:"finance",initialState:{data:[],userBalance:0,isLoading:!1,error:null,isModalAddTransaction:!1,isSaveModalDateStatic:!1,total:0,currentPage:1,totalPage:1,limit:5},reducers:{openModalTransaction:function(e){e.isModalAddTransaction=!0},closeModalTransaction:function(e){e.isModalAddTransaction=!1},setSaveModalDateStatic:function(e){e.isSaveModalDateStatic=!0},clearSaveModalDateStatic:function(e){e.isSaveModalDateStatic=!1},setLimit:function(e,t){var n=t.payload;e.limit=n}},extraReducers:(a={},Object(r.a)(a,i.a.getOperations.pending,(function(e){e.isLoading=!0,e.error=null})),Object(r.a)(a,i.a.getOperations.fulfilled,(function(e,t){var n=t.payload;e.data=Object(c.a)(n.transactions),e.userBalance=n.user_balance,n.page&&(e.currentPage=n.page),n.totalPage&&(e.totalPage=n.totalPage),n.total&&(e.total=n.total),e.isLoading=!1})),Object(r.a)(a,i.a.getOperations.rejected,(function(e,t){var n=t.error;e.isLoading=!1,e.error=n.message})),Object(r.a)(a,i.a.addOperation.pending,(function(e){e.isLoading=!0,e.error=null})),Object(r.a)(a,i.a.addOperation.fulfilled,(function(e,t){var n=t.payload;e.data=[n].concat(Object(c.a)(e.data)),e.isLoading=!1,e.isSaveModalDateStatic=!0})),Object(r.a)(a,i.a.addOperation.rejected,(function(e,t){var n=t.error;e.isLoading=!1,e.error=n.message})),Object(r.a)(a,o.a,(function(e){e.data=[],e.userBalance=0,e.currentPage=1,e.total=0,e.totalPage=1,e.limit=5,e.isModalAddTransaction=!1,e.isSaveModalDateStatic=!1,e.isLoading=!1,e.error=null})),a)}),l=u.actions,d=l.openModalTransaction,j=l.closeModalTransaction,b=(l.setSaveModalDateStatic,l.clearSaveModalDateStatic);l.setLimit;t.c=u},91:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(15),r=n(5),c=n.n(r),s=n(14),i=n(33),o={getCategories:Object(s.c)("getCategories",Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.b)();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))))}},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(15),r=n(5),c=n.n(r),s=n(14),i=n(33),o=Object(s.c)("getStatistic",function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.d)(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u={getStatistic:o}}},[[643,1,2]]]);
//# sourceMappingURL=main.48360f1e.chunk.js.map